$(document).ready(function(){function i(){SC.initialize({client_id:"0223f4d5b9dd11b482aa6aa49a0584f9"})}function s(){t++;page_offset=t*e;var i=$('input[type="text"]').val(),s=r.text()*1e3;console.log(i);SC.get("/tracks",{limit:e,offset:page_offset,q:i,duration:{to:s},license:"cc-by-sa"},function(e){if(i==0){console.log("empty");return!1}if(e.length===0){$("#results ul").append('<li><p>No more results. Try a different search term, <br class="break">or increase the max sample length.</p></li>');n=!0}e.errors||$.each(e,function(e,t){var n='<iframe width="100%" height="465" scrolling="no" src="http://w.soundcloud.com/player/?url=API_URL" frameborder="0"></iframe>',r=n.replace("API_URL","https%3A%2F%2Fapi.soundcloud.com%2F"+t.permalink_url.replace("http://soundcloud.com/",""));$("#results ul").append("<li>"+r)})})}console.log("ready!");$("body").removeClass("preload");var e=5,t=0,n=!1,r=$("#currentValue");$("#slider").change(function(){r.html(this.value)});$("#slider").change();$("#samplesearch").submit(function(){t=0;n=!1;$("#results ul").empty();var o=$('input[type="text"]').val(),u=r.text()*1e3;i();SC.get("/tracks",{limit:e,q:o,duration:{to:u},license:"cc-by-sa"},function(e){if(o==0){console.log("empty");return!1}e.length===0&&$("#results ul").html('<p>No results. Try a different search term, <br class="break">or increase the max sample length.</p>');if(!e.errors){$.each(e,function(e,t){var n='<iframe width="100%" height="465" scrolling="no" src="http://w.soundcloud.com/player/?url=API_URL" frameborder="0"></iframe>',r=n.replace("API_URL","https%3A%2F%2Fapi.soundcloud.com%2F"+t.permalink_url.replace("http://soundcloud.com/",""));console.log(e+" and "+t);$("#results ul").append("<li>"+r)});setInterval(function(){console.log("window check");if($(window).scrollTop()+$(window).height()>=1e3&&$(window).scrollTop()+$(window).height()>$(document).height()-100&&!n){console.log("Load More");s()}},1e3);console.log(e);console.log("you searched for a "+o+" sample,");console.log("that is "+u+" miliseconds long")}});return!1})});